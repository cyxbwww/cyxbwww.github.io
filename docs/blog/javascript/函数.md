# 函数
## 箭头函数

``` javascript
const arrowSum = (a, b) => {
  return a + b;
};
 
const functionExpressionSum = function(a, b) {
  return a + b;
};
 
console.log(arrowSum(2, 3)); // 5
console.log(functionExpressionSum(2, 3)); // 5
```

箭头函数简洁的语法更适合嵌入函数的场景。

``` javascript
const ints = [1, 2, 3];
 
// [2, 3, 4]
console.log(ints.map(function (i) { return i + 1 }));
 
// [2, 3, 4]
console.log(ints.map((i) => { return i + 1 }));
```

如果只有一个参数，也可以不用括号。没有参数或有多个参数才需要使用括号。

``` javascript
// 以下两种写法都有效
const double = (x) => { return 2 * x };
const triple = x => { return 3 * x };
 
// 没有参数需要括号
const getRandom = () => { return Math.random() };
 
// 多个参数需要括号
const sum = (a, b) => { return a + b };
 
// 无效写法
const multiply = a, b => { return a * b };
```

也可以不使用大括号。使用大括号说明包含“函数体”，可以在一个函数中包含多条语句。不适用大括号箭头后面就只能有一行代码，省略大括号会隐式返回这行代码的值。

``` javascript
// 以下两种写法都有效且返回相应的值
const double = (x) => { return 2 * x };
const triple = x => 3 * x;
 
// 可以赋值
const value = {};
const setName = x => x.name = 'Matt';
setName(value);
 
// Matt
console.log(value.name);
 
// 无效写法
const multiply = (a, b) => return a * b;
```

箭头函数不能使用 `arguments`、`super` 和 `new.target`，也不能用作构造函数，也没有 `prototype` 属性。

## 函数名

因为函数名就是指向函数的指针，所以它们跟其它包含对象指针的变量具有相同的行为。意味着一个函数可以有多个名称。

``` javascript
function sum(num1, num2) {
  return num1 + num2;
}
console.log(sum(10, 10)); // 20

const anotherSum = sum;
console.log(anotherSum(10, 10)); // 20
 
sum = null;
console.log(anotherSum(10, 10)); // 20
```

> 使用不带括号的函数名会访问函数指针，而不会执行函数。

ECMAScript 6 的所有函数对象都会暴露一个只读的 `name` 属性。多数情况下这个属性中保存的就是一个函数标识符，或者说是一个字符串化的变量名。计数函数没有名称，也会显示成空字符串。如果是shiyong `function` 构造函数创建的，则会被标识成 `anonymous`。

``` javascript
function foo() {}
const bar = function() {};
const baz = () => {};
 
console.log(foo.name); // foo
console.log(bar.name); // bar
console.log(baz.name); // baz
console.log((() => {}).name); // 空字符串
console.log((new Function()).name); // anonymous
```

如果函数是一个获取函数、设置函数，或者使用 `bind()` 实例化，那么标示符前面会加上一个前缀。

``` javascript
function foo() {}
 
console.log(foo.bind(null).name); // bound foo
 
const dog = {
  years: 1,
  get age() {
    return this.years;
  },
  set age(newAge) {
    this.years = newAge;
  }
};
 
const propertyDescriptor = Object.getOwnPropertyDescriptor(dog, 'age');
console.log(propertyDescriptor.get.name); // get age
console.log(propertyDescriptor.set.name); // set age
```

## 理解参数

ECMAScript 函数的参数在内部表现为一个数组。在使用 `function` 关键字定义（非箭头）函数时，可以在函数内部访问 `arguments` 对象，从中取得传进来的每个参数值。

`arguments` 对象是一个类数组对象（但不是 `Array` 的实例），因此可以使用中括号语法访问其中的元素。

``` javascript
function sayHi(name, message) {
  console.log('Hi ' + name + ', ' + message);
}
 
sayHi('Matt', 'bye'); // Hello Matt, bye
 
function sayHello() {
  console.log('Hello ' + arguments[0] + ', ' + arguments[1]);
}
 
sayHi('John', 'bye'); // Hello John, bye
```

可以使用 `arguments.length` 确定传金多少个参数。

``` javascript
function howManyArgs() {
  console.log(arguments.length);
}
 
howManyArgs('string', 66); // 2
howManyArgs(); // 0
howManyArgs(98); // 1
```

### 箭头函数中的参数

如果函数是使用箭头语法定义的，那么传给函数的参数将不能使用 `arguments` 关键字访问，只能通过定义的命名参数访问。

``` javascript
const bar = () => {
  console.log(arguments[0]);
};
 
bar(5); // ReferenceError: arguments is not defined
```

